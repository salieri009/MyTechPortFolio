<?xml version="1.0" encoding="UTF-8"?>
<ProjectsPage>
  {ProjectsPage는 프로젝트 목록을 필터링, 정렬, 표시하는 페이지입니다. 필터링 기능과 스크롤 애니메이션이 강조된 인터랙티브한 디자인입니다. 몰입형 모달 전략을 사용하여 컨텍스트 손실 없이 프로젝트 상세를 확인할 수 있습니다.}
  
  <Container>
    {Container: 전체 페이지 래퍼, max-width 제한, 중앙 정렬}
    
    <PageTitle 
      ref="titleRef" 
      $isVisible={isTitleVisible}
      role="heading"
      aria-level="1"
    >
      {페이지 제목: "My Projects", scroll-triggered fadeInUp 애니메이션, 중앙 정렬}
      {스타일: fontSize['3xl'] (40px), fontWeight.bold, spacing[8] margin-bottom}
    </PageTitle>
    
    <FilterBar 
      ref="filterBarRef"
      $isVisible={isFilterBarVisible}
      role="region"
      aria-label={t('projects.filters.title', 'Project filters')}
    >
      {필터 바: 프로젝트 필터링 UI, Card 컴포넌트 기반, 하단 정적 그라데이션 라인}
      {스타일: flex layout, gap spacing[4], padding spacing[6], scroll-triggered fadeInUp}
      {호버 효과: box-shadow.lg, border-color 변경}
      {애니메이션: 하단 4px 그라데이션 라인 (정적, opacity 0.3)}
      {스크롤 기반 hide/show: 아래로 스크롤 시 translateY(-100%)로 숨김, 위로 스크롤 시 표시}
      {::after: position absolute, bottom 0, height spacing[0.5], linear-gradient(90deg, transparent, primary[500], transparent)}
      
      <FilterSection>
        {필터 섹션: 개별 필터 그룹, flex layout, gap spacing[3]}
        <span className="filter-label">
          {필터 라벨: "Tech Stack:", fontWeight.semibold, fontSize.sm}
        </span>
        <TechStackFilters 
          role="group"
          aria-label="Tech Stack filters"
        >
          {기술 스택 필터: flex layout, gap spacing[2], flex-wrap}
          {allTechStacks.map(tech => (
            <Tag
              key={tech}
              isSelected={techStacks.includes(tech)}
              count={filterCounts[tech]}
              onClick={handleTechStackToggle}
              role="button"
              tabIndex="0"
              aria-pressed={techStacks.includes(tech)}
              aria-label={`${techStacks.includes(tech) ? 'Remove' : 'Add'} filter: ${tech} (${filterCounts[tech] || 0} projects)`}
              onKeyDown="Enter or Space to toggle"
            >
              {Tag 컴포넌트: 클릭 가능, 키보드 접근 가능, 선택/비활성화 상태 표시, 프로젝트 수 표시}
              {tech}
              {filterCounts[tech] !== undefined && (
                <TagCount>({filterCounts[tech]})</TagCount>
              )}
            </Tag>
          ))}
        </TechStackFilters>
      </FilterSection>
      
      <FilterSection>
        <span className="filter-label">{t('projects.filters.year', 'Year:')}</span>
        <CustomSelect
          value={year?.toString() ?? 'all'}
          options={[
            { value: 'all', label: t('projects.filters.allYears', 'All Years') },
            ...allYears.map(y => ({ value: y.toString(), label: y.toString() }))
          ]}
          onChange={(value) => setYear(value === 'all' ? null : parseInt(value))}
          ariaLabel="Filter by year"
        />
        {CustomSelect 컴포넌트: 네이티브 select 대신 커스텀 드롭다운, KickoffLabs 디자인 시스템 준수, A11y 유지}
        {스타일: padding spacing[2] spacing[3], border, borderRadius.md, focus 시 primary[500] border + box-shadow}
      </FilterSection>
      
      <FilterSection>
        <span className="filter-label">Sort:</span>
        <SortFilters 
          role="group"
          aria-label="Sort options"
        >
          {정렬 필터: flex layout, gap spacing[2]}
          {[
            { value: 'endDate,desc', label: 'Newest First' },
            { value: 'endDate,asc', label: 'Oldest First' }
          ].map(option => (
            <Tag
              key={option.value}
              isSelected={sort === option.value}
              onClick={() => setSort(option.value)}
              role="button"
              tabIndex="0"
              aria-pressed={sort === option.value}
              aria-label="Sort by {option.label}"
              onKeyDown="Enter or Space to select"
            >
              {정렬 옵션 Tag: 선택 가능, 키보드 접근 가능}
              {option.label}
            </Tag>
          ))}
        </SortFilters>
      </FilterSection>
    </FilterBar>
    
    <StatusAnnouncer role="status" aria-live="polite" aria-atomic="true" style="position: absolute, left: -10000px">
      {스크린 리더용 상태 알림: 필터링 중 및 결과 수 표시}
      {isFiltering && <span>{t('projects.filtering', 'Filtering projects...')}</span>}
      {!isFiltering && projects.length > 0 && pagination && (
        <span>{t('projects.results', `Showing ${projects.length} of ${pagination.totalItems} projects`)}</span>
      )}
    </StatusAnnouncer>
    
    <ConditionalRender>
      {조건부 렌더링: isFiltering ? SkeletonUI : projects.length === 0 ? EmptyState : ProjectGrid}
      
      {isFiltering && (
        <ProjectGrid ref="gridRef" $isVisible={true} role="list" aria-label={t('projects.list', 'Projects list')}>
          {필터링 중: 스켈레톤 UI 표시}
          {[...Array(6)].map((_, i) => (
            <ProjectCardSkeleton key={`skeleton-${i}`} />
          ))}
        </ProjectGrid>
      )}
      
      {!isFiltering && projects.length === 0 && (
        <EmptyState role="status" aria-live="polite">
          {빈 상태: 초기 로드, 필터 결과 없음, 일반 빈 상태로 구분}
          {isInitialLoad ? (
            <>
              <h3>{t('projects.empty.initial.title', 'No projects available')}</h3>
              <p>{t('projects.empty.initial.description', 'Projects will appear here once they are added.')}</p>
            </>
          ) : (techStacks.length > 0 || year !== null) ? (
            <>
              <h3>{t('projects.empty.filtered.title', 'No projects match your filters')}</h3>
              <p>{t('projects.empty.filtered.description', 'No projects found. Try adjusting your filters.')}</p>
              <ClearFiltersButton onClick={resetFilters}>
                {t('projects.empty.filtered.clearFilters', 'Clear All Filters')}
              </ClearFiltersButton>
            </>
          ) : (
            <>
              <h3>{t('projects.empty.title', 'No projects found')}</h3>
              <p>{t('projects.empty.description', 'Try adjusting your filters to see more projects.')}</p>
            </>
          )}
        </EmptyState>
      )}
      
      {!isFiltering && projects.length > 0 && (
        <ProjectGrid 
          ref="gridRef"
          $isVisible={isGridVisible}
          role="list"
          aria-label={t('projects.list', 'Projects list')}
        >
          {프로젝트 그리드: auto-fill grid, minmax(320px, 1fr), gap spacing[6]}
          {스타일: scroll-triggered fadeIn 애니메이션 (0.2s delay)}
          {레이아웃: repeat(auto-fill, minmax(spacing[80], 1fr))}
          
          {projects.map((project, index) => (
            <AnimatedProjectCard 
              key={project.id} 
              $index={index} 
              $isVisible={isGridVisible}
              role="listitem"
              ref={(el) => { projectCardRefs.current[project.id] = el }}
              tabIndex="0"
            >
              {애니메이션 래퍼: stagger 효과 (index * 0.05s delay), fadeInUp 애니메이션}
              {스타일: opacity, transform translateY, animation-delay}
              {포커스 관리: ref를 projectCardRefs에 저장하여 모달 닫힌 후 포커스 복귀용}
              
              <ProjectCard
                id={project.id}
                title={project.title}
                summary={project.summary}
                startDate={project.startDate}
                endDate={project.endDate}
                techStacks={project.techStacks}
                imageUrl={project.imageUrl}
                onClick={(e) => handleProjectCardClick(project.id, e)}
              />
              {ProjectCard 컴포넌트: 프로젝트 정보 표시, 최대 3개 tech stack 태그 + "+N" 표시, 이미지 URL 지원}
              {호버 효과: ImageOverlay에 HoverIcon (돋보기 아이콘) 표시, Primary[500] 색상}
              {클릭 핸들러: preventDefault로 페이지 이동 방지, 모달 트리거}
              {접근성: aria-label, role, tabIndex, onKeyDown 지원}
            </AnimatedProjectCard>
          ))}
        </ProjectGrid>
      )}
    </ConditionalRender>
  </Container>
  
  {/* Project Detail Modal Overlay (T1: 몰입형 모달 전략) */}
  {selectedProjectId && (
    <ProjectModalOverlay
      onClick={handleModalClose}
      role="dialog"
      aria-modal="true"
      aria-labelledby={`project-modal-title-${selectedProjectId}`}
    >
      {전체 화면 모달 오버레이: 고대비 배경 (rgba(neutral[950], 0.9)), z-index 9999, fadeIn 300ms ease}
      {스크롤 위치 보존: scrollPositionRef에 저장, 모달 닫힐 때 복원}
      {body overflow hidden: 모달 열릴 때 설정, 닫힐 때 해제}
      
      <ProjectModalContent
        onClick={(e) => e.stopPropagation()}
        role="document"
      >
        {모달 콘텐츠: 중앙 정렬, max-width 600px, max-height 90vh, slideUp 300ms ease}
        {스타일: white 배경, borderRadius 2xl, padding spacing[12], overflow-y auto}
        
        <ProjectModalCloseButton
          onClick={handleModalClose}
          aria-label={t('projects.modal.close', 'Close modal')}
        >
          {닫기 버튼: 우측 상단, absolute position, 호버 시 배경 변경}
          <CloseIcon viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </CloseIcon>
        </ProjectModalCloseButton>
        
        {isLoadingProject ? (
          <div>{t('projects.modal.loading', 'Loading project details...')}</div>
        ) : selectedProject ? (
          <>
            {selectedProject.imageUrl && (
              <ProjectModalImage 
                src={selectedProject.imageUrl} 
                alt={t(selectedProject.title)} 
              />
              {프로젝트 이미지: Visual Anchor로 강조, box-shadow.xl, border, 호버 시 scale(1.02) + shadow 증가}
              {스타일: width 100%, max-height 400px, object-fit cover, borderRadius xl, margin-bottom spacing[8]}
            )}
            <ProjectModalTitle id={`project-modal-title-${selectedProjectId}`}>
              {프로젝트 제목: fontSize['3xl'], fontWeight.bold, margin-bottom spacing[6]}
              {t(selectedProject.title)}
            </ProjectModalTitle>
            <ProjectModalMeta>
              {메타 정보: 날짜 범위 표시, flex layout, gap spacing[4], fontSize.base, textSecondary}
              <span>
                {new Date(selectedProject.startDate).toLocaleDateString('ko-KR', {
                  year: 'numeric',
                  month: 'short'
                })} - {new Date(selectedProject.endDate).toLocaleDateString('ko-KR', {
                  year: 'numeric',
                  month: 'short'
                })}
              </span>
            </ProjectModalMeta>
            <ProjectModalDescription>
              {프로젝트 설명: R2 규칙 - 20% 더 큰 텍스트 (calc(fontSize.base * 1.2))}
              {스타일: fontSize calc(base * 1.2), lineHeight relaxed, margin-bottom spacing[6], white-space pre-wrap}
              {t(selectedProject.description || selectedProject.summary)}
            </ProjectModalDescription>
            {selectedProject.techStacks && selectedProject.techStacks.length > 0 && (
              <ProjectModalTechStacks>
                {기술 스택: flex layout, flex-wrap, gap spacing[2], margin-bottom spacing[6]}
                {selectedProject.techStacks.map((tech) => (
                  <Tag key={tech}>{tech}</Tag>
                ))}
              </ProjectModalTechStacks>
            )}
            {(selectedProject.githubUrl || selectedProject.demoUrl) && (
              <ProjectModalLinks>
                {프로젝트 링크: flex layout, gap spacing[4], flex-wrap, margin-bottom spacing[6]}
                {selectedProject.githubUrl && (
                  <ProjectModalLink 
                    href={selectedProject.githubUrl} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    aria-label={`${t(selectedProject.title)} GitHub repository`}
                  >
                    GitHub →
                  </ProjectModalLink>
                )}
                {selectedProject.demoUrl && (
                  <ProjectModalLink 
                    href={selectedProject.demoUrl} 
                    target="_blank" 
                    rel="noopener noreferrer"
                    aria-label={`${t(selectedProject.title)} demo`}
                  >
                    Demo →
                  </ProjectModalLink>
                )}
              </ProjectModalLinks>
            )}
            
            {/* Related Academics Section (R3: 데이터 인터링킹) */}
            {selectedProject.relatedAcademics && selectedProject.relatedAcademics.length > 0 && (
              <ProjectModalRelatedAcademics>
                {관련 학업 과목 섹션: 카드 스타일, surface 배경, border, padding spacing[6], margin-top spacing[6]}
                <RelatedAcademicsTitle>
                  {섹션 제목: fontSize.lg, fontWeight.semibold, margin-bottom spacing[4]}
                  {t('projects.modal.relatedAcademics', 'Related Academic Subjects')}
                </RelatedAcademicsTitle>
                <RelatedAcademicsList>
                  {과목 목록: flex column, gap spacing[2]}
                  {selectedProject.relatedAcademics.map((academicName, index) => (
                    <RelatedAcademicLink
                      key={index}
                      href={`/academics?search=${encodeURIComponent(academicName)}`}
                      aria-label={`View academic subject: ${academicName}`}
                    >
                      {과목 링크: primary[600] 색상, 호버 시 primary[700] + underline, 화살표 아이콘 (::after '→')}
                      {academicName}
                    </RelatedAcademicLink>
                  ))}
                </RelatedAcademicsList>
              </ProjectModalRelatedAcademics>
            )}
          </>
        ) : (
          <div>{t('projects.modal.error', 'Failed to load project details')}</div>
        )}
      </ProjectModalContent>
    </ProjectModalOverlay>
  )}
  
  <LoadingState condition="isLoading === true">
    {로딩 상태: 프로젝트 데이터 로딩 중}
    <Container>
      <LoadingText>
        {로딩 텍스트: "Loading projects...", 중앙 정렬, padding spacing[10]}
        {스타일: fontSize.base, color textSecondary}
      </LoadingText>
    </Container>
  </LoadingState>
</ProjectsPage>

<!-- State Management -->
<StateManagement>
  <LocalState>
    <State name="projects" type="ProjectSummary[]" />
    {프로젝트 목록: 서버에서 필터링된 프로젝트 데이터 (서버사이드 필터링)}
    <State name="isTitleVisible" type="boolean" />
    {제목 가시성: IntersectionObserver로 감지}
    <State name="isFilterBarVisible" type="boolean" />
    {필터 바 가시성: 스크롤 방향에 따라 동적 변경 (아래로 스크롤 시 숨김, 위로 스크롤 시 표시)}
    <State name="isGridVisible" type="boolean" />
    {그리드 가시성: IntersectionObserver로 감지}
    <State name="selectedProjectId" type="number | null" />
    {선택된 프로젝트 ID: 모달 트리거용}
    <State name="selectedProject" type="ProjectDetail | null" />
    {선택된 프로젝트 상세 정보: 모달에 표시}
    <State name="isLoadingProject" type="boolean" />
    {프로젝트 상세 로딩 상태}
  </LocalState>
  
  <Refs>
    <Ref name="scrollPositionRef" type="number" />
    {스크롤 위치 보존: 모달 열릴 때 저장, 닫힐 때 복원}
    <Ref name="projectCardRefs" type="Record<number, HTMLDivElement | null>" />
    {프로젝트 카드 refs: 모달 닫힌 후 포커스 복귀용}
    <Ref name="lastScrollYRef" type="number" />
    {마지막 스크롤 Y 위치: FilterBar hide/show 로직용}
    <Ref name="scrollTimeoutRef" type="NodeJS.Timeout | null" />
    {스크롤 타임아웃: FilterBar 표시 복원용}
  </Refs>
  
  <GlobalState>
    <Store name="useFilters" source="stores/filters">
      {필터 상태: 전역 상태 관리 (Zustand), 서버사이드 필터링 지원}
      <State name="techStacks" type="string[]" />
      {선택된 기술 스택 배열}
      <State name="year" type="number | null" />
      {선택된 연도 (null = 모든 연도)}
      <State name="sort" type="'endDate,desc' | 'endDate,asc'" />
      {정렬 옵션}
      <State name="isLoading" type="boolean" />
      {초기 로딩 상태}
      <State name="isFiltering" type="boolean" />
      {필터링 중 상태 (스켈레톤 UI 표시용)}
      <State name="isInitialLoad" type="boolean" />
      {초기 로드 여부 (빈 상태 메시지 구분용)}
      <State name="currentPage" type="number" />
      {현재 페이지 (페이지네이션)}
      <State name="pageSize" type="number" />
      {페이지 크기}
      <State name="pagination" type="PaginationMetadata" />
      {페이지네이션 메타데이터: totalItems, totalPages, hasNext, hasPrevious}
      <State name="filterCounts" type="Record<string, number>" />
      {필터 카운트: 각 tech stack별 프로젝트 수}
    </Store>
  </GlobalState>
  
  <URLParams>
    <Param name="category" source="searchParams">
      {URL 파라미터: category 값에 따라 자동으로 tech stacks 필터 설정}
      {매핑: CATEGORY_TECH_MAP (threejs, software, gamedev)}
    </Param>
  </URLParams>
</StateManagement>

<!-- Data Flow -->
<DataFlow>
  <InitialLoad>
    {초기 로드: useEffect로 프로젝트 데이터 가져오기 (서버사이드 필터링)}
    <Step>1. debouncedFilters 생성 (useDebounce hook으로 techStacks, year, sort 디바운싱)</Step>
    <Step>2. getProjects API 호출 (page: currentPage-1, size: pageSize, sort, techStacks, year 파라미터 포함)</Step>
    <Step>3. response.data.items를 projects state에 저장</Step>
    <Step>4. response.data.pagination을 pagination state에 저장</Step>
    <Step>5. isLoading/isFiltering을 false로 설정</Step>
  </InitialLoad>
  
  <Filtering>
    {필터링: 서버사이드 필터링 (debounced), 클라이언트 필터링 제거}
    <Step>1. techStacks, year, sort 변경 시 useDebounce로 디바운싱 (300ms)</Step>
    <Step>2. debouncedFilters 변경 시 getProjects API 호출 (서버에서 필터링)</Step>
    <Step>3. isFiltering을 true로 설정 (스켈레톤 UI 표시)</Step>
    <Step>4. API 응답 후 projects state 업데이트</Step>
    <Step>5. isFiltering을 false로 설정</Step>
  </Filtering>
  
  <ProjectCardClick>
    {프로젝트 카드 클릭: 모달 트리거 (T1 규칙)}
    <Step>1. e.preventDefault()로 페이지 이동 방지</Step>
    <Step>2. scrollPositionRef.current = window.scrollY (스크롤 위치 저장)</Step>
    <Step>3. setSelectedProjectId(projectId) (모달 열기)</Step>
    <Step>4. document.body.style.overflow = 'hidden' (스크롤 잠금)</Step>
    <Step>5. getProject(projectId) API 호출 (프로젝트 상세 정보 로드)</Step>
    <Step>6. setSelectedProject(response.data) (모달에 표시)</Step>
  </ProjectCardClick>
  
  <ModalClose>
    {모달 닫기: R4 규칙 (A11y Dismissal)}
    <Step>1. setSelectedProjectId(null) (모달 닫기)</Step>
    <Step>2. setSelectedProject(null) (상세 정보 초기화)</Step>
    <Step>3. document.body.style.overflow = '' (스크롤 복원)</Step>
    <Step>4. window.scrollTo(0, scrollPositionRef.current) (스크롤 위치 복원)</Step>
    <Step>5. setTimeout으로 포커스 복귀 (projectCardRefs.current[projectId].focus())</Step>
  </ModalClose>
  
  <EscKeyHandler>
    {Esc 키 처리: R4 규칙}
    <Step>1. useEffect로 키보드 이벤트 리스너 등록</Step>
    <Step>2. e.key === 'Escape' && selectedProjectId 조건 확인</Step>
    <Step>3. handleModalClose() 호출</Step>
  </EscKeyHandler>
  
  <FilterCounts>
    {필터 카운트: UX 개선을 위한 각 tech stack별 프로젝트 수}
    <Step>1. 마운트 시 getProjects API 호출 (page: 0, size: 1000, 모든 프로젝트 가져오기)</Step>
    <Step>2. 각 tech stack별 프로젝트 수 계산</Step>
    <Step>3. filterCounts state에 저장 (한 번만 로드, useEffect dependency [])</Step>
  </FilterCounts>
  
  <CategoryMapping>
    {카테고리 매핑: URL 파라미터 category에 따라 자동 필터 설정}
    <Mapping category="threejs" techStacks="['Three.js', 'WebGL', 'GLSL', ...]" />
    <Mapping category="software" techStacks="['React', 'TypeScript', 'Node.js', ...]" />
    <Mapping category="gamedev" techStacks="['Unity', 'C#', 'Unreal Engine', ...]" />
  </CategoryMapping>
  
  <ScrollBasedFilterBar>
    {스크롤 기반 FilterBar hide/show: T2 규칙}
    <Step>1. window.addEventListener('scroll', handleScroll, { passive: true })</Step>
    <Step>2. currentScrollY - lastScrollYRef.current로 스크롤 방향 감지</Step>
    <Step>3. scrollDifference > 50px일 때만 처리 (성능 최적화)</Step>
    <Step>4. scrollDifference > 0 (아래로 스크롤): setIsFilterBarVisible(false)</Step>
    <Step>5. scrollDifference < 0 (위로 스크롤): setIsFilterBarVisible(true)</Step>
    <Step>6. window.scrollY < 100일 때 항상 표시 (상단 근처)</Step>
  </ScrollBasedFilterBar>
</DataFlow>

<!-- Animation Strategy -->
<Animations>
  <Keyframes>
    <Keyframe name="fadeInUp">
      {fadeInUp: opacity 0→1, translateY(spacing[8])→0}
      {사용: PageTitle, FilterBar, AnimatedProjectCard}
    </Keyframe>
    <Keyframe name="fadeIn">
      {fadeIn: opacity 0→1}
      {사용: ProjectGrid, ProjectModalOverlay}
    </Keyframe>
    <Keyframe name="slideUp">
      {slideUp: opacity 0→1, translateY(spacing[8])→0}
      {사용: ProjectModalContent}
    </Keyframe>
  </Keyframes>
  
  <ScrollTriggered>
    {스크롤 트리거: IntersectionObserver 사용}
    <Observer 
      threshold="0.1"
      rootMargin="0px 0px -50px 0px"
    >
      {옵션: threshold 0.1 (10% 보일 때), rootMargin -50px (50px 전에 트리거)}
      <Target ref="titleRef" setState="setIsTitleVisible" />
      <Target ref="filterBarRef" setState="setIsFilterBarVisible" />
      <Target ref="gridRef" setState="setIsGridVisible" />
    </Observer>
  </ScrollTriggered>
  
  <StaggerEffect>
    {Stagger 효과: 각 프로젝트 카드에 순차적 애니메이션 지연}
    <Delay formula="index * 0.05s" />
    {공식: index * 0.05초 (첫 번째: 0s, 두 번째: 0.05s, 세 번째: 0.1s, ...)}
  </StaggerEffect>
  
  <ModalAnimations>
    {모달 애니메이션: 300ms ease (Constraints 규칙)}
    <Overlay animation="fadeIn 300ms ease" />
    {오버레이: opacity 0→1, 300ms ease}
    <Content animation="slideUp 300ms ease" />
    {콘텐츠: opacity 0→1, translateY(spacing[8])→0, 300ms ease}
  </ModalAnimations>
  
  <Accessibility>
    {접근성: prefers-reduced-motion 지원}
    <MediaQuery query="prefers-reduced-motion: reduce">
      {애니메이션 비활성화: animation: none, opacity: 1, transform: none}
    </MediaQuery>
  </Accessibility>
</Animations>

<!-- Design Principles Applied -->
<DesignPrinciples>
  <KickoffLabs>
    {KickoffLabs 원칙: Primary + Neutral 색상, Inter 폰트, 일관된 스타일}
    <ColorPalette>Primary + Neutral only</ColorPalette>
    <FontFamily>Inter (typography.fontFamily.primary)</FontFamily>
    <Consistency>일관된 spacing, border-radius, button styles</Consistency>
  </KickoffLabs>
  
  <FourPointSpacing>
    {4-point spacing 시스템: 모든 spacing 값이 4px의 배수}
    <Spacing>
      <Value token="spacing[0.5]" pixels="4px" usage="FilterBar border height, outline offset" />
      <Value token="spacing[1]" pixels="4px" usage="Gap, margin-right" />
      <Value token="spacing[2]" pixels="8px" usage="Gap, margin-right, padding" />
      <Value token="spacing[3]" pixels="12px" usage="Gap, padding" />
      <Value token="spacing[4]" pixels="16px" usage="Gap, margin-bottom, padding" />
      <Value token="spacing[6]" pixels="24px" usage="Gap, padding, margin-bottom" />
      <Value token="spacing[8]" pixels="32px" usage="Margin-bottom, translateY, animation" />
      <Value token="spacing[10]" pixels="40px" usage="Padding, margin-bottom" />
      <Value token="spacing[12]" pixels="48px" usage="Padding, margin-bottom, icon size" />
      <Value token="spacing[15]" pixels="60px" usage="EmptyState padding" />
      <Value token="spacing[80]" pixels="320px" usage="Grid minmax min-width" />
      <Value token="spacing[100]" pixels="400px" usage="Image max-height" />
      <Value token="spacing[150]" pixels="600px" usage="Modal max-width" />
    </Spacing>
  </FourPointSpacing>
  
  <NielsenHeuristics>
    <H1>Visibility of System Status</H1>
    {H1: 로딩 상태 표시, 필터 적용 피드백 (선택된 Tag 스타일), 호버 효과, 모달 상태}
    <H3>User Control & Freedom</H3>
    {H3: 필터 제거 가능, 정렬 변경 가능, 키보드 접근 가능 (tabIndex, onKeyDown), Esc 키로 모달 닫기}
    <H4>Consistency & Standards</H4>
    {H4: 일관된 필터 UI 패턴, Tag 컴포넌트 재사용, 통일된 애니메이션, 모달 패턴 (AboutPage와 동일)}
    <H8>Aesthetic & Minimalist Design</H8>
    {H8: 깔끔한 필터 바, 적절한 여백, 불필요한 요소 제거, 모달 내 집중된 레이아웃}
  </NielsenHeuristics>
  
  <ImmersiveStrategy>
    {몰입형 전략: Mission & Vision 페이지와 동일한 패턴}
    <ModalStrategy>
      {모달 전략: 전체 화면 오버레이, 고대비 배경, 포커스 격리}
      <Background>rgba(neutral[950], 0.9)</Background>
      {고대비 배경: rgba(neutral[950], 0.9)}
      <FocusIsolation>100%</FocusIsolation>
      {포커스 격리: 모달 외부 클릭 불가, Esc 키로 닫기}
      <ContextPreservation>100%</ContextPreservation>
      {컨텍스트 보존: 스크롤 위치, 필터 상태, 포커스 위치 모두 보존}
    </ModalStrategy>
  </ImmersiveStrategy>
</DesignPrinciples>

<!-- Accessibility Features -->
<Accessibility>
  <ARIA>
    <Attribute element="PageTitle" role="heading" aria-level="1" />
    <Attribute element="FilterBar" role="region" aria-label="Project filters" />
    <Attribute element="TechStackFilters" role="group" aria-label="Tech Stack filters" />
    <Attribute element="SortFilters" role="group" aria-label="Sort options" />
    <Attribute element="Tag" role="button" aria-pressed="boolean" aria-label="descriptive" />
    <Attribute element="select" aria-label="Filter by year" />
    <Attribute element="EmptyState" role="status" aria-live="polite" />
    <Attribute element="ProjectGrid" role="list" aria-label="Projects list" />
    <Attribute element="AnimatedProjectCard" role="listitem" />
    <Attribute element="ProjectModalOverlay" role="dialog" aria-modal="true" aria-labelledby="project-modal-title-{id}" />
    <Attribute element="ProjectModalContent" role="document" />
    <Attribute element="ProjectModalCloseButton" aria-label="Close modal" />
    <Attribute element="RelatedAcademicLink" aria-label="View academic subject: {name}" />
  </ARIA>
  
  <Keyboard>
    <Navigation>
      {키보드 네비게이션: Tab으로 필터 이동, Enter/Space로 필터 토글, Esc로 모달 닫기}
      <Tag tabIndex="0" onKeyDown="Enter or Space to toggle" />
      <Select native="true" />
      <ProjectCard tabIndex="0" onKeyDown="Enter or Space to open modal" />
      <ModalEscKey handler="handleModalClose" />
    </Navigation>
  </Keyboard>
  
  <FocusManagement>
    {포커스 관리: 명확한 포커스 스타일, outline 표시, 모달 닫힌 후 포커스 복귀}
    <Select focus="border-color primary[500] + box-shadow" />
    <Tag focus="outline visible" />
    <ModalClose focusReturn="projectCardRefs.current[projectId].focus()" />
    {모달 닫힌 후: 100ms 지연 후 원래 카드로 포커스 복귀}
  </FocusManagement>
</Accessibility>

<!-- Responsive Breakpoints -->
<Responsive>
  <Desktop minWidth="1024px">
    {데스크톱: 전체 기능, 최적 레이아웃, FilterBar sticky top spacing[4]}
  </Desktop>
  <Tablet minWidth="768px" maxWidth="1023px">
    {태블릿: 필터 바 flex-wrap, 그리드 조정, 모달 padding spacing[8]}
  </Tablet>
  <Mobile maxWidth="767px">
    {모바일: 필터 바 스택 레이아웃, 그리드 1-column, 터치 최적화, 모달 max-height 95vh}
  </Mobile>
</Responsive>

<!-- Component Dependencies -->
<Dependencies>
  <Internal>
    <Component name="Container" source="@components/common" />
    <Component name="Card" source="@components/common" />
    <Component name="Tag" source="@components/common" />
    <Component name="ProjectCard" source="@components/project/ProjectCard" />
    <Component name="ProjectCardSkeleton" source="@components/project/ProjectCardSkeleton" />
    <Component name="CustomSelect" source="@components/ui/CustomSelect" />
  </Internal>
  
  <External>
    <Library name="react-i18next" usage="useTranslation for i18n" />
    <Library name="react-router-dom" usage="useSearchParams for URL params" />
    <Library name="styled-components" usage="Styled components, keyframes" />
  </External>
  
  <Services>
    <Service name="getProjects" source="services/projects" />
    {프로젝트 목록 가져오기: API 호출 또는 mock 데이터}
    <Service name="getProject" source="services/projects" />
    {프로젝트 상세 가져오기: 모달용 API 호출}
  </Services>
  
  <Stores>
    <Store name="useFilters" source="stores/filters" />
    {필터 상태 관리: Zustand store}
  </Stores>
  
  <Hooks>
    <Hook name="useDebounce" source="utils/useDebounce" />
    {디바운싱: 필터 변경 시 300ms 디바운싱}
  </Hooks>
</Dependencies>

<!-- Recent Improvements -->
<RecentImprovements>
  <Improvement date="2024" type="Immersive Modal Strategy">
    {몰입형 모달 전략 적용: Mission & Vision 페이지와 동일한 패턴}
    <Feature>T1: ProjectCard 클릭 시 전체 화면 모달 트리거 (preventDefault)</Feature>
    <Feature>T2: 스크롤 기반 FilterBar hide/show (아래로 스크롤 시 숨김)</Feature>
    <Feature>R1: ProjectCard 호버 시 돋보기 아이콘 표시 (Primary[500] 색상)</Feature>
    <Feature>R2: 모달 내 텍스트 20% 확대 (가독성 향상)</Feature>
    <Feature>R3: 관련 Academics 링크 섹션 추가 (데이터 인터링킹)</Feature>
    <Feature>R4: Esc 키로 모달 닫기, 스크롤 위치 보존, 포커스 복귀</Feature>
    <Feature>Image Emphasis: 프로젝트 이미지를 Visual Anchor로 강조 (box-shadow, hover scale)</Feature>
  </Improvement>
</RecentImprovements>
